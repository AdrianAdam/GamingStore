<!DOCTYPE html>
<html lang=en>
	<head>
		<meta charset=UTF-8>
		<title>Gaming store</title>

		<link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css>
		<link rel=stylesheet href=index.css>
		<script src="https://player.twitch.tv/js/embed/v1.js"></script>
		<script type=text/javascript src=functions.js></script>
		<script type=text/javascript src=FrontendEndpoint.js></script>
	</head>

	<body>
		<header>
			<div class=head>
				<div class=topInfo>
					<div id=appTitle>
						<h1>Gaming Store</h1>
					</div>
					<div id=accountSection>
						<a class=btn id=loginButton onclick=createLoginPage()>Login</a>
						<a class=btn id=accountButton style="display: none;"><span id=userDisplayName></span></a>
						<a class=btn id=logoutButton style="display: none;" onclick=logout()>Logout</a>
					</div>
				</div>

				<div class=navBar>
					<a class=btn onclick="goToPage('store')"><h2>Store</h2></a>
					<a class=btn onclick="goToPage('library')"><h2>Library</h2></a>
					<a class=btn onclick="goToPage('community')"><h2>Community</h2></a>
					<a class=btn onclick="goToPage('profile')"><h2>Profile</h2></a>
				</div>
			</div>
		</header>

		<section class="pages store">
			<div id=storeGames></div>
		</section>

		<section class="pages library" style="display: none">
			<div class=libraryPage>
				<div id=gamesList></div>
				<div id=gameDetails></div>
			</div>
		</section>

		<section class="pages community" style="display: none">
			<div id=communityHead style="width: 100%; text-align: center;">
				<input type=text id=searchFriend placeholder="Search for a user..." list=datalistAllUsers>
				<datalist id=datalistAllUsers></datalist>
				<br>
				<div id=searchedFriend style="display: none;">
					<span id=searchedFriendSpan></span>
					<button class="btn btn-success" id=addSearchedFriend><span class="glyphicon glyphicon-ok"></span></button>
					<button class="btn btn-danger" id=removeSearchedFriend><span class="glyphicon glyphicon-remove"></span></button>
				</div>
			</div>
			<div class=socialMedia id=socialMediaYoutube></div>
			<div class=socialMedia id=socialMediaTwitch></div>
			<div id=communityPosts></div>
		</section>

		<section class="pages profile" style="display: none">
			<div id=profileHead style="width: 100%;">
				<h2>Steam</h2>
				<div id=steamData>
					<div id=steamProfileData style="width: 230px; float: left;"></div>
					<div id=steamLastPlayedGames></div>
				</div>
			</div>
			<div id=profileBody style="width: 100%;">
				<div id=friendsList></div>
			</div>
		</section>

		<footer>
			<div class=footer>
				<div class=footerLeft>
					<a class="btn btn-danger" onclick=quitApp()><span class="glyphicon glyphicon-off"></span> Exit</a>
					<span id=version>Version <span id=versionNumber></span></span>
				</div>
				<div class=footerRight>
					<a class="btn btn-info" onclick=openConsole()><span class="glyphicon glyphicon-log-in"></span></a>
				</div>
			</div>
		</footer>
	</body>

	<script>
		updateVersionNumber();
		loadStorePage();
		generateLibraryPage();
		autocompleteCommunitySearch();
		checkLoginStatus();
		initializeFriendsFunctions();
		displayCommunityPosts();
		setTimeout(() => { startWatchers() }, 1.5 * 1000);
		initializeHeadOfProfilePage();
	</script>
</html>
